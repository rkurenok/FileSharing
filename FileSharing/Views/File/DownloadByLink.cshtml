@model FileSharing.Models.File

@{
    ViewBag.Title = "Download";
}

@*<h2>Download</h2>*@
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<div style="height: 57vh;">
    <div id="downloadByLink" class="text-center" style="margin: 0 auto ">
        <div>
            <p style="font-size: 19px; color: #57adf7;">@Html.DisplayFor(model => model.Name)</p>
            <br />
            @ViewBag.User.Login
            <br />
            @*@Html.DisplayFor(model => model.SizeInBytes)*@
            @{
                string size = string.Format("{0} Б", Model.SizeInBytes);
                double sizeInKBytes, sizeInMBytes, sizeInGBytes;
                if (Model.SizeInBytes >= 1024)
                {
                    sizeInKBytes = (double)Model.SizeInBytes / 1024;
                    size = string.Format("{0:N2} КБ", sizeInKBytes);
                    if (sizeInKBytes >= 1024)
                    {
                        sizeInMBytes = (double)sizeInKBytes / 1024;
                        size = string.Format("{0:N2} МБ", sizeInMBytes);
                        if (sizeInMBytes >= 1024)
                        {
                            sizeInGBytes = (double)sizeInMBytes / 1024;
                            size = string.Format("{0:N2} ГБ", sizeInGBytes);
                        }
                    }
                }
            }
            @size
            <br />
            @Html.DisplayFor(model => model.Date)
        </div>
        <div class="row">
            <br />
        </div>
        <div class="row">
            <div class="col-md-12">
                @Html.ActionLink("Скачать", "Download", "File", new { fileId = Model.Id }, htmlAttributes: new { @class = "btn btn-success", @style = "width: 250px" })
            </div>
        </div>
    </div>
</div>
